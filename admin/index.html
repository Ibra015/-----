<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุชุญูู | ุตุงููู ุงููุญุชุฑู</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <!-- Styles -->
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/admin.css">
</head>

<body class="admin-body">
    <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-icon">โ๏ธ</div>
            <span class="logo-text">ููุญุฉ ุงูุชุญูู</span>
        </div>

        <nav class="sidebar-nav">
            <a href="#" class="sidebar-link active" data-page="dashboard">
                <span class="link-icon">๐</span>
                <span>ุงูุฑุฆูุณูุฉ</span>
            </a>
            <a href="#" class="sidebar-link" data-page="bookings">
                <span class="link-icon">๐</span>
                <span>ุงูุญุฌูุฒุงุช</span>
            </a>
            <a href="#" class="sidebar-link" data-page="finance">
                <span class="link-icon">๐ฐ</span>
                <span>ุงูุญุณุงุจุงุช</span>
            </a>
            <a href="#" class="sidebar-link" data-page="inventory">
                <span class="link-icon">๐ฆ</span>
                <span>ุงููุฎุฒูู</span>
            </a>
            <a href="#" class="sidebar-link" data-page="loyalty">
                <span class="link-icon">โญ</span>
                <span>ุงูููุงุก</span>
            </a>
            <!-- ุนุฑุถ ุงูุฎุฏูุฉ ูููู ุฃู ูููู ุถูู ุงูุฅุนุฏุงุฏุงุช ุฃู ุตูุญุฉ ูููุตูุฉ ูุณุชูุจูุงู -->
        </nav>

        <div class="sidebar-footer" style="padding: 20px;">
            <a href="../index.html" class="btn btn-outline" style="width: 100%; text-align: center; display: block;">
                ๐ช ุฎุฑูุฌ ูููููุน
            </a>
        </div>
    </aside>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="admin-main">
        <!-- ุงูููุฏุฑ -->
        <header class="admin-header">
            <button class="menu-toggle" id="menuToggle">โฐ</button>
            <h1 class="page-title" id="pageTitle">ุงูุฑุฆูุณูุฉ</h1>
            <div class="header-actions">
                <button onclick="exportToCSV()" class="btn-outline"
                    style="font-size:0.8rem; padding:8px 15px; border-radius:10px;">๐ ุชุตุฏูุฑ ุชูุฑูุฑ</button>
                <span class="current-date" id="currentDate">--/--/----</span>
            </div>
        </header>

        <!-- DASHBOARD PAGE -->
        <section class="admin-page active" id="dashboardPage">
            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-info">
                        <div class="stat-icon">๐</div>
                        <h3 id="todayBookings">0</h3>
                        <p>ุญุฌูุฒุงุช ุงูููู</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <div class="stat-icon">๐ต</div>
                        <h3 id="todayIncome">0 ุฌ.ู</h3>
                        <p>ุฅูุฑุงุฏุงุช ุงูููู</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <div class="stat-icon">๐</div>
                        <h3 id="activeClients">--</h3>
                        <p>ุตุงูู ุงูุฑุจุญ</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <!-- Recent Bookings -->
                <div class="dashboard-card">
                    <h3
                        style="margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;">
                        ๐ ุขุฎุฑ ุงูุญุฌูุฒุงุช
                    </h3>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ุงูุนููู</th>
                                    <th>ุงูููุช</th>
                                    <th>ุงูุญุงูุฉ</th>
                                </tr>
                            </thead>
                            <tbody id="todayBookingsList"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Quick Actions / Offers Management -->
                <div class="dashboard-card">
                    <h3>๐ฅ ุฅุฏุงุฑุฉ ุงูุนุฑูุถ ุงูุญุงููุฉ</h3>
                    <p style="color:#888; font-size:0.9rem; margin-bottom:15px;">ุงูุดุฑ ุนุฑุถุงู ุฎุงุตุงู ุณูุธูุฑ ููุนููุงุก</p>

                    <form id="offerForm" style="display:flex; flex-direction:column; gap:10px; margin-bottom:15px;">
                        <input type="text" id="offerTitle" placeholder="ุงูุนููุงู (ูุซูุงู: ุฎุตู 20%)" class="form-input">
                        <div style="display:flex; gap:10px;">
                            <input type="number" id="offerPrice" placeholder="ุงูุณุนุฑ" class="form-input">
                            <button type="submit" class="btn btn-primary" style="flex:1;">ูุดุฑ</button>
                        </div>
                    </form>

                    <div id="activeOffersList"
                        style="max-height:150px; overflow-y:auto; border-top:1px solid rgba(255,255,255,0.1); padding-top:10px;">
                        <!-- Offers List -->
                    </div>
                </div>
            </div>
        </section>

        <!-- BOOKINGS PAGE -->
        <section class="admin-page" id="bookingsPage">
            <div class="page-header">
                <h2>ูุงูุฉ ุงูุญุฌูุฒุงุช</h2>
                <div class="filter-group">
                    <input type="date" class="form-input" style="max-width: 200px;">
                    <select class="form-input" style="max-width: 150px;">
                        <option>ุงููู</option>
                        <option>ูุคูุฏ</option>
                        <option>ููุบู</option>
                    </select>
                </div>
            </div>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>ุงูุนููู</th>
                            <th>ุงูุชุงุฑูุฎ</th>
                            <th>ุงูุฎุฏูุฉ</th>
                            <th>ุงูุณุนุฑ</th>
                            <th>ุงูุญุงูุฉ</th>
                            <th>ุชูุงุตู</th>
                            <th>ุฅุฌุฑุงุก</th>
                        </tr>
                    </thead>
                    <tbody id="bookingsTableBody"></tbody>
                </table>
            </div>
        </section>

        <!-- FINANCE PAGE -->
        <section class="admin-page" id="financePage">
            <!-- Main container for finance content -->
        </section>

        <!-- INVENTORY PAGE -->
        <section class="admin-page" id="inventoryPage">
            <div class="page-header">
                <h2>๐ฆ ุฅุฏุงุฑุฉ ุงููุฎุฒูู</h2>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h4>ุฅุถุงูุฉ ุตูู ุฌุฏูุฏ</h4>
                    <form id="inventoryForm" style="margin-top:20px; display:flex; gap:10px;">
                        <input type="text" id="invItem" placeholder="ุงุณู ุงูุตูู" class="form-input" required>
                        <input type="number" id="invQty" placeholder="ุงููููุฉ" class="form-input" style="width:100px;"
                            required>
                        <button type="submit" class="btn btn-primary">ุญูุธ</button>
                    </form>
                </div>
                <div class="dashboard-card">
                    <h4>ุชูุจููุงุช ุงูููุต</h4>
                    <div id="invAlerts" style="margin-top:10px;"></div>
                </div>
            </div>

            <div class="table-container" style="margin-top:20px;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ุงูุตูู</th>
                            <th>ุงููููุฉ ุงูุญุงููุฉ</th>
                            <th>ุงูุญุงูุฉ</th>
                            <th>ุชุญุฏูุซ</th>
                        </tr>
                    </thead>
                    <tbody id="inventoryTableBody"></tbody>
                </table>
            </div>
        </section>

        <!-- LOYALTY PAGE -->
        <section class="admin-page" id="loyaltyPage">
            <div class="page-header">
                <h2>โญ ุงููุชุตุฏุฑูู (ูุธุงู ุงูููุงุก)</h2>
                <p style="color:#aaa;">ูู 100 ููุทุฉ = ูุตุฉ ูุฌุงููุฉ</p>
            </div>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>ุงูุนููู</th>
                            <th>ุฑูู ุงููุงุชู</th>
                            <th>ุนุฏุฏ ุงูุฒูุงุฑุงุช</th>
                            <th>ูุฌููุน ุงูููุงุท</th>
                            <th>ุงูููุงูุฃุฉ</th>
                        </tr>
                    </thead>
                    <tbody id="loyaltyTableBody"></tbody>
                </table>
            </div>
        </section>
    </main>

    <script src="../js/app.js"></script>
    <script src="../js/admin.js"></script>
    <script>
        // Init Date
        document.getElementById('currentDate').innerText = new Date().toLocaleDateString('ar-EG');

        // Mobile Toggle logic handled in existing scripts? 
        // Let's add ensuring it works inline just in case
        document.getElementById('menuToggle').addEventListener('click', () => {
            document.getElementById('sidebar').classList.toggle('active');
        });
    </script>
</body>

</html>